<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<html>
    <head>
        <title>Listado de Ordenes de Servicio Generales</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no ">
        <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
         <link href="css/styles.css" rel="stylesheet" />
         <link href="css/styVis.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <div class="container">
            <div class="row vh-100 justify-content-center align-items-center">
                <div class="col-auto bg-light p-2"  >
                    <strong>Generar Ordenes de Servicio Generales</strong>
                    <hr>
                        <div class="input-group p-2">
                            <input type="text" class="form-control" id="Buscar" placeholder="Buscar Unidad">
                            <button type="button"  id="cmdBuscar" class="btn btn-primary" onclick="ObtenertUNeg1()">Buscar</button>
                         </div>
                         <div id="txtMostrar"></div>

                    <div  class="input-group p-2">
                              <div  class="table-responsive" style="height: 300px;overflow: scroll;">
                                 <table id="tblOsG" class="table table-sm" >
                                     <thead class="table-dark">
                                         <tr>
                                             <th class="header" scope="col">Folio</th>
                                             <th class="header" scope="col">Fecha Exp</th>
                                             <th class="header" scope="col">Tipo Matto</th>
                                             <th class="header" scope="col">Unidad Negocio</th>
                                             <th class="header" scope="col">Area Solita</th>
                                             <th class="header" scope="col">Solicitante</th>
                                             <th class="header" scope="col">Jefe Area</th>
                                             <th class="header" scope="col">Estatus</th>
                                             <th class="header" scope="col">Prioridad</th>
                                             <th class="header" scope="col">CodGteMtto</th>
                                         </tr>
                                     </thead>
                                     <tbody>

                                     </tbody>
                                 </table>
                             </div>
                         </div>


                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                          <button class="btn btn-primary me-md-2" id="cmdAgregar" type="button"
                                  data-bs-toggle="modal" data-bs-target="#frmOsG" onclick="setOpcion(1)">Agregar</button>
                          <button class="btn btn-primary" id="cmdEditar" type="button"
                                  data-bs-toggle="modal" data-bs-target="#frmOsG" onclick="setOpcion(2)">Editar</button>
                          <button class="btn btn-primary" id="cmdEliminar" type="button"
                                  onclick="setOpcion(3)">Eliminar</button>
                        </div>
                        <div class="d-grid gap-2 d-md-flex ">
                            <button class="btn btn-success btn-sm" id="cmdAtender" type="button"
                                  onclick="setOpcion(4)">Atender</button>
                            <button class="btn btn-warning btn-sm" id="cmdTerminar" type="button"
                                onclick="setOpcion(5)">Terminar</button>
                            <button class="btn btn-danger btn-sm" id="cmdLiberar" type="button"
                                onclick="setOpcion(6)"> Liberar OS</button>

                           <button class="btn btn-outline-dark" id="cmdLiberar" type="button"
                                onclick="setOpcion(7)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-heading" viewBox="0 0 16 16">
  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
  <path d="M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"/>
</svg> Ver OS</button>
                        </div>

                </div>
            </div>
        </div>


        <!-- Modal -->
            <div class="modal fade" id="frmOsG" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Agregar OS General</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeMd1()"></button>
                  </div>
                  <div class="modal-body">
                     <div class="row">
                         <div class="form-group col-md-6">
                            <strong><label for="FechaExp">Fecha Expedicion</label> </strong>
                            <input type="date" class="form-control" id="FechaExp" placeholder="Fecha" required pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" >
                         </div>
                         <div class="form-group col-md-6">
                            <strong><label for="CboTipoMatto">Tipo de Matto.</label></strong>
                            <Select  class="form-select" aria-label="Default select example" id="CboTipoMatto" >
                                 <option Value="Correctivo" >Correctivo</option>
                                 <option Value="Preventivo" >Preventivo</option>
                             </select>
                         </div>
                      </div>
                      <div class="row">
                          <div class="form-group col-md-6">
                              <strong><label for="CboUneg">Unidad de Negocio</label></strong>
                             <Select  class="form-select" aria-label="Default select example" id="CboUneg" onChange="SlcUneg(this.value);" ></select>
                          </div>
                          <div class="form-group col-md-6">
                            <strong><label for="CboSol">Solicitante</label></strong>
                             <Select  class="form-select" aria-label="Default select example" id="CboSol" ></select>
                          </div>
                      </div>
                      <div class="row">
                          <div class="form-group col-md-6">
                              <strong><label for="CboArea">Area</label></strong>
                             <Select  class="form-select" aria-label="Default select example" id="CboArea" ></select>
                          </div>
                          <div class="form-group col-md-6">
                             <strong><label for="CboAsigA">Asinada A</label></strong>
                             <Select  class="form-select" aria-label="Default select example" id="CboAsigA" ></select>
                          </div>
                      </div>
                      <strong><label for="CboPrioridad">Prioridad</label></strong>
                      <Select  class="form-select" aria-label="Default select example" id="CboPrioridad" >
                           <option Value="100" >Nomal</option>
                           <option Value="200" >Media</option>
                           <option Value="300" >Urgente</option>
                       </select>
                       <strong><label for="DscFallo">Descripcion del Fallo</label> </strong>
                      <textarea class="form-control" id="DscFallo" rows="3"></textarea>
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-primary" id="cmdGuardar" onclick="drvOperacion()">Guardar</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeMd1()" >Close</button>
                  </div>
                </div>
              </div>
            </div>




          <!-- Modal para Atender una OS -->
            <div class="modal fade" id="frmATOsG" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Atender OS General</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeMd()"></button>
                  </div>
                  <div class="modal-body">
                     <div class="row">
                         <div class="form-group col-md-6">
                            <strong><label for="No.OS">No. OS</label> </strong>
                            <input type="text" class="form-control" id="NoOS" readonly>
                         </div>
                         <div class="form-group col-md-6">
                            <strong><label for="FecExp">Fecha Exp.</label></strong>
                            <input type="text" class="form-control" id="FecExp" readonly>
                         </div>
                      </div>
                      <div class="row">
                          <div class="form-group col-md-6">
                              <strong><label for="Uneg">Unidad de Negocio</label></strong>
                             <input type="text" class="form-control" id="Uneg" readonly>
                          </div>
                          <div class="form-group col-md-6">
                            <strong><label for="Area">Area</label></strong>
                             <input type="text" class="form-control" id="Area" readonly>
                          </div>
                      </div>
                      <div class="row">
                          <div class="form-group col-md-6">
                              <strong><label for="Sol">Creada Por</label></strong>
                             <input type="text" class="form-control" id="Sol" readonly>
                          </div>
                      </div>
                      <strong><label for="DFallo">Descripcion del Fallo</label> </strong>
                      <textarea class="form-control" id="DFallo" rows="3" readonly></textarea>
                       <div class="row">
                          <div class="form-group col-md-6">
                            <strong><label for="FechaProm">Fecha Prometida</label> </strong>
                            <input type="date" class="form-control" id="FechaProm" placeholder="Fecha" >
                          </div>
                          <div class="form-group col-md-6">
                            <strong><label for="CboAsigA2">Asinada A</label></strong>
                             <Select  class="form-select" aria-label="Default select example" id="CboAsigA2" ></select>
                          </div>
                             <strong><label for="DscAtendido">Descripcion del Atencion</label> </strong>
                              <textarea class="form-control" id="DscAtendido" rows="3" ></textarea>
                      </div><br>
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-primary" id="cmdGuardar" onclick="drvOperacion()">Guardar</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeMd()" >Close</button>
                  </div>
                </div>
              </div>
            </div>



            <!-- Modal para Terminar una OS -->
            <div class="modal fade" id="frmTerOsG" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Terminar OS General</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeMd()"></button>
                  </div>
                  <div class="modal-body">
                      <!-- Acordion para ver el detalle de OS -->
                      <div class="accordion accordion-flush" id="accordionFlushExample">
                            <div class="accordion-item">
                              <h2 class="accordion-header" id="flush-headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                                  Ver Datos de Creacion de la OS
                                </button>
                              </h2>
                              <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">

                                    <div class="row">
                                        <div class="form-group col-md-6">
                                           <strong><label for="NoOSEd">No. OS</label> </strong>
                                           <input type="text" class="form-control" id="NoOSEd" readonly>
                                        </div>
                                        <div class="form-group col-md-6">
                                           <strong><label for="FecExpEd">Fecha Exp.</label></strong>
                                           <input type="text" class="form-control" id="FecExpEd" readonly>
                                        </div>
                                     </div>
                                     <div class="row">
                                         <div class="form-group col-md-6">
                                             <strong><label for="UnegEd">Unidad de Negocio</label></strong>
                                            <input type="text" class="form-control" id="UnegEd" readonly>
                                         </div>
                                         <div class="form-group col-md-6">
                                           <strong><label for="AreaEd">Area</label></strong>
                                            <input type="text" class="form-control" id="AreaEd" readonly>
                                         </div>
                                     </div>
                                     <div class="row">
                                         <div class="form-group col-md-6">
                                             <strong><label for="SolEd">Creada Por</label></strong>
                                            <input type="text" class="form-control" id="SolEd" readonly>
                                         </div>
                                     </div>
                                     <strong><label for="DFalloEd">Descripcion del Fallo</label> </strong>
                                     <textarea class="form-control" id="DFalloEd" rows="3" readonly></textarea>

                                </div>
                              </div>
                            </div>
                            <div class="accordion-item">
                              <h2 class="accordion-header" id="flush-headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                                  Ver Datos de Atension de la OS
                                </button>
                              </h2>
                              <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="form-group col-md-6">
                                          <strong><label for="FechaPromEd">Fecha Prometida</label> </strong>
                                          <input type="text" class="form-control" id="FechaPromEd" readonly>
                                        </div>
                                        <div class="form-group col-md-6">
                                          <strong><label for="AtendidaPor">Atendida por</label></strong>
                                          <input type="text" class="form-control" id="AtendidaPor" readonly>
                                        </div>
                                           <strong><label for="DscAtendidoEd">Descripcion de la Atencion</label> </strong>
                                            <textarea class="form-control" id="DscAtendidoEd" rows="3" ></textarea>
                                    </div>
                                </div>
                              </div>
                            </div>
                      </div>
                       <!-- Terminan los acordiones -->
                       <div class="row">
                          <div class="form-group col-md-6">
                            <strong><label for="FechaTermino">Fecha Termino</label> </strong>
                            <input type="date" class="form-control" id="FechaTermino" placeholder="Fecha" >
                          </div>
                          <strong><label for="DscTermino">Observacion del Trabajo Terminado </label> </strong>
                           <textarea class="form-control" id="DscTermino" rows="3" ></textarea>
                       </div>

                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-primary" id="cmdGuardar" onclick="drvOperacion()">Guardar</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeMd()" >Close</button>
                  </div>
                </div>
              </div>
            </div>



            <!-- Aceptar una OS -->
            <div class="modal fade" id="frmAcepOsG" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Aceptar OS General</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeMd()"></button>
                  </div>
                  <div class="modal-body">
                      <!-- Acordion para ver el detalle de OS -->
                      <div class="accordion accordion-flush" id="accordionFlushExample">
                            <div class="accordion-item">
                              <h2 class="accordion-header" id="flush-headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                                  Ver Datos de Creacion de la OS
                                </button>
                              </h2>
                              <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">

                                </div>
                              </div>
                            </div>
                            <div class="accordion-item">
                              <h2 class="accordion-header" id="flush-headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                                  Ver Datos de Atension de la OS
                                </button>
                              </h2>
                              <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">

                              </div>
                            </div>
                      </div>
                       <!-- Terminan los acordiones -->
                       <div class="row">
                          <div class="form-group col-md-6">
                            <strong><label for="FechaTermino">Fecha Termino</label> </strong>
                            <input type="date" class="form-control" id="FechaTermino" placeholder="Fecha" >
                          </div>
                          <strong><label for="DscTermino">Observacion del Trabajo Terminado </label> </strong>
                           <textarea class="form-control" id="DscTermino" rows="3" ></textarea>
                       </div>

                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-primary" id="cmdGuardar" onclick="drvOperacion()">Guardar</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeMd()" >Close</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Fin de Aceptar OS -->




            <!-- Ver os -->
            <div class="modal fade" id="frmVerOsG" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ver OS General</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" ></button>
                  </div>
                  <div class="modal-body">
                      <div class="card">
                        <h5 class="card-header" id="h5t">Featured</h5>
                        <div class="card-body" id ="CuerpoCard">
                          <h5 class="card-title">Tienes que seleccionar una OS</h5>
                          <p class="card-text"></p>
                        </div>
                      </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"  >Close</button>
                  </div>
                </div>
              </div>
            </div>





        <script src="js/OSGeneral.js" type="text/javascript"></script>

    </body>
</html>
